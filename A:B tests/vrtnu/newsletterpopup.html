<style>
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1000; /* Sit on top */
  padding-top: 100px; /* Location of the box */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.7); /* Black w/ opacity */
}

/* Modal Content */
.modal-content {
  background-color: #1a1c24;
  margin: auto;
  padding: 20px;
  border: 1px solid #ff6416;
  width: 80%;
}

.modal-content .nui-newsletter-signup {
    border-color: #ff6416;
    border-top: none;
    border-bottom: none;
    margin: 35px auto;
    padding: 5px;
}

/* The Close Button */
.close {
  color: #ff6416;
  float: right;
  font-size: 2em;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}
.nui-newsletter-signup .ab15 { /* overschrijft de min widht zodat formulier velden leesbaar zouden zijn */
    min-width: none;
}
.nui-newsletter-signup .ab15form {
    min-width: 50%;
}
.nui-newsletter-signup .ab15 h3  {
    color: #ff6416;
}
.ab15form input {
    border: 1px solid #ff6416!important;
}
.close:hover, .close:focus {
    color: #fff;
}
input.submit15:hover:not(:disabled) {
    background-color: #ff6416!important;
}
/*.nui-newsletter-signup .ab15 h3 {
    font-size: 0.9rem;
}
.nui-newsletter-signup .ab15 h2 {
    font-size: 1.3rem;
}*/
</style>
<div id="myModal" class="modal">

  <div class="modal-content">
    <span class="close">&times;</span>

    <!-- start canvas -->
    <div class="newsletter-signup">
        <nui-newsletter class="nui-newsletter-signup" brand="canvas">
          <div class="ab15">
            <h2>Bij Canvas is er altijd iets te ontdekken: van topfictie tot straffe documentaires.</h2>
            <h3>Schrijf je in op de Canvas-nieuwsbrief!</h3>
          </div>
          <form class="ab15form">
            <div id="name" class="fieldset">
              <input type="text" id="nui-newsletter-signup-name" placeholder="Jouw voornaam" name="name" required="">
              <label for="nui-newsletter-signup-name">Voornaam</label>
            </div>
            <div id="email" class="fieldset fieldset-half">
              <input type="email" id="nui-newsletter-signup-email" placeholder="Jouw e-mailadres" name="email" required="">
              <label for="nui-newsletter-signup-email">E-mail</label>
            </div>
            <input class="submit15" type="submit" value="Ik schrijf me in">
          </form>
        </nui-newsletter>
    </div><!-- end canvas -->
  </div> 
</div>

<script>
console.log("ABcanvaspopup");
// Get the modal
var modal = document.getElementById("myModal");

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// after 3 sec, show modal except if already seen.

const myTimeout = setTimeout(ShowPopUp, 3000);
function ShowPopUp() {
  if (localStorage.getItem('canvaspopup') !== "true"){  
    console.log("popnottrue");
  modal.style.display = "block";
  }
  adobe.target.trackEvent({
  "mbox": "popShown",
  "params": {
  "profile.isPop": true
  }
  });
  localStorage.setItem('canvaspopup', true);
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
</script>

<!-- 
fire this when pop is shown
adobe.target.trackEvent({
"mbox": "popShown",
"params": {
"profile.isPop": true
}
});
Audience setup :
Visitor Profile > isPop>equals>static value>false
-----hoe zorgen we ervoor dat mensen de popup niet meerdere keren zien ? 
-----hoe zorgen we ervoor dat mensen die al ingeschreven zijn voor specifieke nieuwsbrief deze popup niet zien ?  -->

<!-- CURRENT STYLE SHEET -->
<!-- <style>

.nui-newsletter-signup {
    max-width: 1920px;
    margin: 20px auto;
    padding: 5px;
    display: flex;
    align-items: center;
    border-top: 1px solid #5cfc70;
    border-bottom: 1px solid #5cfc70;
    justify-content: space-evenly
}

.nui-newsletter-signup h2,.nui-newsletter-signup h3 {
    line-height: 1.75rem
}

.nui-newsletter-signup h2 {
    font-family: Forma Nuova!important;
    font-size: 1.5rem;
    line-height: 1.33;
    letter-spacing: .048em;
    padding-right: 1rem
}

@media (max-width: 1000px) {
    .nui-newsletter-signup h2 {
        margin-bottom:.25em
    }
}

.nui-newsletter-signup h3 {
    font-family: Poppins!important;
    font-size: 1rem;
    line-height: 1.5;
    letter-spacing: .048em;
    color: #5cfc70
}

.nui-newsletter-signup form {
    display: grid;
    grid-template-rows: auto;
    grid-template-columns: auto auto;
    gap: 1em
}

.nui-newsletter-signup form .fieldset,.nui-newsletter-signup form fieldset {
    border: none;
    padding: 0;
    margin: 0;
    display: inline-grid;
    grid-template-rows: auto auto
}

.nui-newsletter-signup form .fieldset label,.nui-newsletter-signup form fieldset label {
    grid-row: 1
}

.nui-newsletter-signup form .fieldset input,.nui-newsletter-signup form fieldset input {
    grid-row: 2
}

@media (max-width: 600px) {
    .nui-newsletter-signup form .fieldset,.nui-newsletter-signup form fieldset {
        width:100%;
        padding: 0 0 1em
    }
}

.nui-newsletter-signup form .fieldset.fieldset-inline,.nui-newsletter-signup form fieldset.fieldset-inline {
    display: inline-block
}

.nui-newsletter-signup form input,.nui-newsletter-signup form label {
    display: block;
    width: 100%
}

.nui-newsletter-signup form label {
    overflow: hidden;
    height: 0;
    width: 0;
    display: block
}

.nui-newsletter-signup form input {
    padding: 1em;
    background: transparent;
    border: 1px solid #a8d2d0;
    color: #fff;
    font-size: 1em;
    height: 3em
}

.nui-newsletter-signup form input[type=submit] {
    grid-column: 1/span 2;
    text-transform: uppercase;
    border: 1px solid #5cfc70;
    transition: background-color .2s,color .2s;
    cursor: pointer;
    color: #5cfc70;
    background-color: #000
}

.nui-newsletter-signup form input[type=submit]:hover:not(:disabled) {
    background-color: #5cfc70!important;
    color: #000!important
}

@media (max-width: 600px) {
    .nui-newsletter-signup form input[type=submit] {
        margin-bottom:1em
    }
}

.nui-newsletter-signup form input:focus {
    border: 1px solid #5cfc70
}

.nui-newsletter-signup form input:focus+label {
    color: #5cfc70
}

.nui-newsletter-signup form input:focus:invalid {
    border: 1px solid red
}

.nui-newsletter-signup form input::-webkit-input-placeholder {
    font-style: italic
}

.nui-newsletter-signup form input:-moz-placeholder,.nui-newsletter-signup form input::-moz-placeholder {
    font-style: italic
}

.nui-newsletter-signup form input:-ms-input-placeholder {
    font-style: italic
}

.nui-newsletter-signup form input:placeholder-shown {
    font-style: italic
}

.nui-newsletter-signup form input[type=checkbox]+label {
    overflow: initial;
    height: auto;
    width: auto;
    display: inline-block;
    color: #5cfc70
}

.nui-newsletter-signup form p {
    grid-column: 1/span 2;
    max-width: 640px
}

.nui-newsletter-signup form p small {
    color: #a8d2d0;
    font-size: .8em
}

.nui-newsletter-signup form p a {
    text-decoration: underline
}

@media (max-width: 600px) {
    .nui-newsletter-signup form {
        display:block
    }
}

.nui-newsletter-signup form #name {
    grid-column: 1
}

.nui-newsletter-signup form #email {
    grid-column: 2
}

.nui-newsletter-signup form #branded-newsletter {
    grid-column: 1/-1
}

@media (min-width: 1000px) {
    .nui-newsletter-signup>div {
        min-width:30%
    }
}

.nui-newsletter-signup .social-follow {
    margin-top: 32px
}

.nui-newsletter-signup .social-follow p {
    display: flex;
    align-items: center
}

.nui-newsletter-signup .social-follow p span {
    display: contents
}

.nui-newsletter-signup .social-follow p a {
    width: 2.5rem;
    height: 2rem;
    display: inline-block;
    background-size: contain;
    transition: transform .1s
}

.nui-newsletter-signup .social-follow p a:hover {
    transform: scale(1.15)
}

.nui-newsletter-signup.subscribed {
    animation: nui-newsletter-subscribed .4s 1s;
    animation-fill-mode: forwards;
    overflow: hidden
}

@media (max-width: 1000px) {
    .nui-newsletter-signup {
        display:block
    }

    .nui-newsletter-signup form {
        margin-top: 1em
    }
}

[class*=aem-Author] .nui-newsletter-signup[style*=display] {
    display: block!important
}

@media (min-width: 1000px) {
    [class*=aem-Author] .nui-newsletter-signup[style*=display] {
        display:flex!important
    }
}
</style> -->

